<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>Departamentos por API</h1>
    <ul id="listadepartamentos"></ul>
    <button id="botonleer">Cargar</button>
    <script src="js/jquery-3.7.1.js"></script>

    <script>
      $(document).ready(function () {
        $("#botonleer").click(function () {
          //let url = Lo quesea
          // let request = /api/lo que sea que indiqe el servicio
          //$.get(ulr+request)
          $.get(
            "https://apicruddepartamentosxml.azurewebsites.net/api/departamentos", //Aqui la ruta del CRUD /lo que sea
            function (data) {
              console.log("Leyendo");
              var html = "";
              $(data)
                .find("Departamento")
                .each(function () {
                  var id = $(this).find("IdDepartamento").text();
                  var nombre = $(this).find("Nombre").text();
                  var localidad = $(this).find("Localidad").text();
                  html +=
                    "<li>" + id + ", " + nombre + "," + localidad + "</li>";
                });
              $("#listadepartamentos").html(html);
            }
          );
        });
      });
    </script>
  </body>
</html>
